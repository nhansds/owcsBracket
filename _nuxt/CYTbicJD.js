import{F as ee,k as N,d as G,G as V,y as d,z as r,H as j,A as e,I as R,B as s,J as o,K as O,L as E,M as re,N as te,O as ae,C as D,r as P,P as oe,T as de,D as J,E as z,Q as ue,R as me,n as pe,o as he,S as be,U as ye,V as ge}from"./CmBJh6aU.js";const Q=[{id:"crazy-raccoon",name:"Crazy Raccoon",shortName:"CR",region:"OWCS Asia - Korea",placement:"Asia #1 Seed",seed:1,accent:"#ff5470",logo:"teams/38px-Crazy_Raccoon_2021_allmode.png",roster:[{name:"LIP",role:"damage",country:"South Korea"},{name:"HeeSang",role:"damage",country:"South Korea"},{name:"SP1NT",role:"damage",country:"South Korea"},{name:"JunBin",role:"tank",country:"South Korea"},{name:"MAX",role:"tank",country:"South Korea"},{name:"CH0R0NG",role:"support",country:"South Korea"},{name:"Shu",role:"support",country:"South Korea"}]},{id:"team-falcons",name:"Team Falcons",shortName:"TF",region:"OWCS Asia - Korea",placement:"Asia #2 Seed",seed:5,accent:"#3b82f6",logo:"teams/41px-Team_Falcons_2022_allmode.png",roster:[{name:"Proper",role:"damage",country:"South Korea"},{name:"MER1T",role:"damage",country:"South Korea"},{name:"SOMEONE",role:"tank",country:"South Korea"},{name:"Hanbin",role:"tank",country:"South Korea"},{name:"ChiYo",role:"support",country:"South Korea"},{name:"Fielder",role:"support",country:"South Korea"}]},{id:"t1",name:"T1",shortName:"T1",region:"OWCS Asia - Korea",placement:"Asia #3 Seed",seed:7,accent:"#f97316",logo:"teams/100px-T1_2019_allmode.png",roster:[{name:"Proud",role:"damage",country:"South Korea"},{name:"Viper",role:"damage",country:"South Korea"},{name:"ZEST",role:"damage",country:"South Korea"},{name:"DONGHAK",role:"tank",country:"South Korea"},{name:"Jasm1ne",role:"tank",country:"South Korea"},{name:"skewed",role:"support",country:"South Korea"},{name:"vigilante",role:"support",country:"South Korea"}]},{id:"varrel",name:"VARREL",shortName:"VRL",region:"OWCS Asia - Japan/Pacific",placement:"Asia Pacific Champion",seed:6,accent:"#8b5cf6",logo:"teams/61px-VARREL_darkmode.png",roster:[{name:"Nico",role:"support",country:"Japan"},{name:"qki",role:"damage",country:"Japan"},{name:"TOPDRAGON",role:"damage",country:"South Korea"},{name:"KSG",role:"tank",country:"Japan"},{name:"Qloud",role:"support",country:"Japan"},{name:"Mimoza",role:"support",country:"Japan"},{name:"Sley",role:"support",country:"South Korea"}]},{id:"team-liquid",name:"Team Liquid",shortName:"TL",region:"OWCS North America",placement:"NA #1 Seed",seed:2,accent:"#06b6d4",logo:"teams/44px-Team_Liquid_2024_darkmode.png",roster:[{name:"TR33",role:"damage",country:"United States"},{name:"zeruhh",role:"damage",country:"United States"},{name:"Infekted",role:"tank",country:"United States"},{name:"Rupal",role:"support",country:"United States"},{name:"Vega",role:"support",country:"United States"}]},{id:"spacestation",name:"Spacestation Gaming",shortName:"SSG",region:"OWCS North America",placement:"NA #2 Seed",seed:9,accent:"#fbbf24",logo:"teams/41px-Spacestation_Gaming_2021_allmode.png",roster:[{name:"sugarfree",role:"damage",country:"United States"},{name:"Kronik",role:"damage",country:"United States"},{name:"Hawk",role:"tank",country:"United States"},{name:"cjay",role:"support",country:"United States"},{name:"Lep",role:"support",country:"United States"}]},{id:"geekay",name:"Geekay Esports",shortName:"GK",region:"OWCS North America",placement:"NA #3 Seed",seed:12,accent:"#10b981",logo:"teams/67px-Geekay_Esports_2023_allmode.png",roster:[{name:"Lethal",role:"damage",country:"Turkey"},{name:"WMaimone",role:"damage",country:"Wales"},{name:"cuFFa",role:"tank",country:"Australia"},{name:"UltraViolet",role:"support",country:"United States"},{name:"Admiral",role:"support",country:"Estonia"}]},{id:"twisted-minds",name:"Twisted Minds",shortName:"TM",region:"OWCS EMEA",placement:"EMEA #1 Seed",seed:3,accent:"#14b8a6",logo:"teams/71px-Twisted_Minds_2023_allmode.png",roster:[{name:"Quartz",role:"damage",country:"Saudi Arabia"},{name:"Youbi",role:"damage",country:"Saudi Arabia"},{name:"Seicoe",role:"damage",country:"Austria"},{name:"KSAA",role:"tank",country:"Saudi Arabia"},{name:"TVNT",role:"tank",country:"Saudi Arabia"},{name:"FunnyAstro",role:"support",country:"United Kingdom"},{name:"Simple",role:"support",country:"South Korea"}]},{id:"al-qadsiah",name:"Al Qadsiah Esports",shortName:"AQE",region:"OWCS EMEA",placement:"EMEA #2 Seed",seed:11,accent:"#f59e0b",logo:"teams/22px-Al-Qadsiah_2024_allmode.png",roster:[{name:"LBBD7",role:"damage",country:"Saudi Arabia"},{name:"CheckMate",role:"damage",country:"South Korea"},{name:"ZIYAD",role:"tank",country:"Saudi Arabia"},{name:"Chase",role:"tank",country:"Ukraine"},{name:"Haku",role:"support",country:"Saudi Arabia"},{name:"Landon",role:"support",country:"United States"},{name:"Kellex",role:"support",country:"Denmark"}]},{id:"team-peps",name:"Team Peps",shortName:"Peps",region:"OWCS EMEA",placement:"EMEA #3 Seed",seed:10,accent:"#ec4899",logo:"teams/41px-Team_Peps_July_2022_allmode.png",roster:[{name:"SoOn",role:"damage",country:"France"},{name:"Zorrow",role:"damage",country:"Sweden"},{name:"Dip",role:"damage",country:"France"},{name:"WillyS",role:"tank",country:"Sweden"},{name:"Xeriongdh",role:"support",country:"France"},{name:"FDGod ðŸ¸",role:"support",country:"France"}]},{id:"weibo-gaming",name:"Weibo Gaming",shortName:"WBG",region:"OWCS China",placement:"China #1 Seed",seed:4,accent:"#dc2626",logo:"teams/62px-Weibo_allmode.png",roster:[{name:"Leave",role:"damage",country:"China"},{name:"shy",role:"damage",country:"China"},{name:"Apr1ta",role:"damage",country:"China"},{name:"guxue",role:"tank",country:"China"},{name:"Mew",role:"support",country:"China"},{name:"Mmonk",role:"support",country:"China"}]},{id:"team-cc",name:"Team CC",shortName:"TCC",region:"OWCS China",placement:"China #2 Seed",seed:8,accent:"#a855f7",logo:"teams/53px-Team_CC_August_2025_allmode.png",roster:[{name:"Kaneki",role:"damage",country:"China"},{name:"Pineapple",role:"damage",country:"China"},{name:"GAGA",role:"tank",country:"China"},{name:"BILIDENG",role:"tank",country:"China"},{name:"Farway2025",role:"support",country:"China"},{name:"HaoYoQian",role:"support",country:"China"}]}],M=t=>`bracket.rounds.${t}`,v=t=>`bracket.matches.${t}.label`,S=t=>`bracket.matches.${t}.schedule`,W=[{id:"M1",labelKey:v("M1"),stage:"upper",roundLabelKey:M("upperRound1"),bestOf:"FT2",scheduleLabelKey:S("M1"),matchNumber:"M1",slots:[{type:"team",teamId:"team-cc"},{type:"team",teamId:"t1"}]},{id:"M2",labelKey:v("M2"),stage:"upper",roundLabelKey:M("upperRound1"),bestOf:"FT2",scheduleLabelKey:S("M2"),matchNumber:"M2",slots:[{type:"team",teamId:"team-falcons"},{type:"team",teamId:"varrel"}]},{id:"M3",labelKey:v("M3"),stage:"upper",roundLabelKey:M("upperRound1"),bestOf:"FT2",scheduleLabelKey:S("M3"),matchNumber:"M3",slots:[{type:"team",teamId:"al-qadsiah"},{type:"team",teamId:"geekay"}]},{id:"M4",labelKey:v("M4"),stage:"upper",roundLabelKey:M("upperRound1"),bestOf:"FT2",scheduleLabelKey:S("M4"),matchNumber:"M4",slots:[{type:"team",teamId:"spacestation"},{type:"team",teamId:"team-peps"}]},{id:"M5",labelKey:v("M5"),stage:"upper",roundLabelKey:M("upperRound2"),bestOf:"FT3",scheduleLabelKey:S("M5"),matchNumber:"M5",slots:[{type:"team",teamId:"crazy-raccoon"},{type:"winner",matchId:"M4"}]},{id:"M6",labelKey:v("M6"),stage:"upper",roundLabelKey:M("upperRound2"),bestOf:"FT3",scheduleLabelKey:S("M6"),matchNumber:"M6",slots:[{type:"team",teamId:"weibo-gaming"},{type:"winner",matchId:"M3"}]},{id:"M7",labelKey:v("M7"),stage:"upper",roundLabelKey:M("upperRound2"),bestOf:"FT3",scheduleLabelKey:S("M7"),matchNumber:"M7",slots:[{type:"team",teamId:"twisted-minds"},{type:"winner",matchId:"M1"}]},{id:"M8",labelKey:v("M8"),stage:"upper",roundLabelKey:M("upperRound2"),bestOf:"FT3",scheduleLabelKey:S("M8"),matchNumber:"M8",slots:[{type:"team",teamId:"team-liquid"},{type:"winner",matchId:"M2"}]},{id:"M9",labelKey:v("M9"),stage:"lower",roundLabelKey:M("lowerRound1"),bestOf:"FT2",scheduleLabelKey:S("M9"),matchNumber:"M9",slots:[{type:"loser",matchId:"M8"},{type:"loser",matchId:"M4"}]},{id:"M10",labelKey:v("M10"),stage:"lower",roundLabelKey:M("lowerRound1"),bestOf:"FT2",scheduleLabelKey:S("M10"),matchNumber:"M10",slots:[{type:"loser",matchId:"M7"},{type:"loser",matchId:"M3"}]},{id:"M11",labelKey:v("M11"),stage:"lower",roundLabelKey:M("lowerRound1"),bestOf:"FT2",scheduleLabelKey:S("M11"),matchNumber:"M11",slots:[{type:"loser",matchId:"M6"},{type:"loser",matchId:"M1"}]},{id:"M12",labelKey:v("M12"),stage:"lower",roundLabelKey:M("lowerRound1"),bestOf:"FT2",scheduleLabelKey:S("M12"),matchNumber:"M12",slots:[{type:"loser",matchId:"M5"},{type:"loser",matchId:"M2"}]},{id:"M13",labelKey:v("M13"),stage:"lower",roundLabelKey:M("lowerRound2"),bestOf:"FT3",scheduleLabelKey:S("M13"),matchNumber:"M13",slots:[{type:"winner",matchId:"M9"},{type:"winner",matchId:"M10"}]},{id:"M14",labelKey:v("M14"),stage:"lower",roundLabelKey:M("lowerRound2"),bestOf:"FT3",scheduleLabelKey:S("M14"),matchNumber:"M14",slots:[{type:"winner",matchId:"M11"},{type:"winner",matchId:"M12"}]},{id:"M15",labelKey:v("M15"),stage:"upper",roundLabelKey:M("upperSemifinals"),bestOf:"FT3",scheduleLabelKey:S("M15"),matchNumber:"M15",slots:[{type:"winner",matchId:"M5"},{type:"winner",matchId:"M6"}]},{id:"M16",labelKey:v("M16"),stage:"upper",roundLabelKey:M("upperSemifinals"),bestOf:"FT3",scheduleLabelKey:S("M16"),matchNumber:"M16",slots:[{type:"winner",matchId:"M7"},{type:"winner",matchId:"M8"}]},{id:"M17",labelKey:v("M17"),stage:"lower",roundLabelKey:M("lowerRound3"),bestOf:"FT3",scheduleLabelKey:S("M17"),matchNumber:"M17",slots:[{type:"loser",matchId:"M15"},{type:"winner",matchId:"M13"}]},{id:"M18",labelKey:v("M18"),stage:"lower",roundLabelKey:M("lowerRound3"),bestOf:"FT3",scheduleLabelKey:S("M18"),matchNumber:"M18",slots:[{type:"loser",matchId:"M16"},{type:"winner",matchId:"M14"}]},{id:"M19",labelKey:v("M19"),stage:"lower",roundLabelKey:M("lowerSemifinal"),bestOf:"FT3",scheduleLabelKey:S("M19"),matchNumber:"M19",slots:[{type:"winner",matchId:"M17"},{type:"winner",matchId:"M18"}]},{id:"UBF",labelKey:v("UBF"),stage:"upper",roundLabelKey:M("upperFinal"),bestOf:"FT3",scheduleLabelKey:S("UBF"),matchNumber:"UBF",slots:[{type:"winner",matchId:"M15"},{type:"winner",matchId:"M16"}]},{id:"LBF",labelKey:v("LBF"),stage:"lower",roundLabelKey:M("lowerFinal"),bestOf:"FT3",scheduleLabelKey:S("LBF"),matchNumber:"LBF",slots:[{type:"loser",matchId:"UBF"},{type:"winner",matchId:"M19"}]},{id:"FINALS",labelKey:v("FINALS"),stage:"final",roundLabelKey:M("grandFinal"),bestOf:"FT4",scheduleLabelKey:S("FINALS"),matchNumber:"FINALS",slots:[{type:"winner",matchId:"UBF"},{type:"winner",matchId:"LBF"}]}],se={FT2:2,FT3:3,FT4:4},fe=Object.fromEntries(Q.map(t=>[t.id,t])),ne=new Map(W.map(t=>[t.id,t])),ke=()=>({winnerSlot:null,score:[null,null]}),we=t=>{if(!t.length)return"";if(globalThis.window===void 0)return Buffer.from(t).toString("base64url");let a="";for(const l of t)a+=String.fromCodePoint(l);return globalThis.window.btoa(a).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")},xe=t=>{if(!t)return new Uint8Array;if(globalThis.window===void 0)return new Uint8Array(Buffer.from(t,"base64url"));const a=t.replaceAll("-","+").replaceAll("_","/"),l=a.length%4,C=l?a+"=".repeat(4-l):a,f=globalThis.window.atob(C),w=new Uint8Array(f.length);for(let x=0;x<f.length;x+=1)w[x]=f.codePointAt(x)??0;return w},Y=()=>{const t=ee("bracket-results",()=>({})),a=ee("bracket-locked",()=>!1),l=u=>t.value[u]??ke(),C=N(()=>{const u=new Map,g=m=>{if(m.type==="team")return fe[m.teamId]??null;const k=ne.get(m.matchId);if(!k)return null;const b=K(k);return m.type==="winner"?b.winner:b.loser},K=m=>{if(u.has(m.id))return u.get(m.id);const k=m.slots.map(c=>g(c)),b=l(m.id),$=b.winnerSlot===null?null:k[b.winnerSlot]??null;let L=null;if(b.winnerSlot!==null){const c=b.winnerSlot===0?1:0;L=k[c]??null}const n={...m,participants:k,result:b,winner:$,loser:L,targetScore:se[m.bestOf]};return u.set(m.id,n),n};return W.map(m=>K(m))}),f=N(()=>{const u={};for(const g of C.value)u[g.id]=g;return u}),w=u=>{const g=ne.get(u);return g?se[g.bestOf]:4};return{teams:Q,matches:C,matchesById:f,getTargetScoreForMatch:w,results:t,setMatchResult:(u,g)=>{if(a.value)return;const K=w(u),m=l(u),k={winnerSlot:typeof g.winnerSlot=="number"?g.winnerSlot:m.winnerSlot,score:(g.score??m.score).map(b=>b==null?null:Math.max(0,Math.min(K,Number(b)))),updatedAt:Date.now()};t.value={...t.value,[u]:k}},clearMatchResult:u=>{if(!a.value&&t.value[u]){const{[u]:g,...K}=t.value;t.value=K}},resetBracket:()=>{a.value||(t.value={})},encodeBracketState:()=>{const u=new Uint8Array(W.length);let g=-1;for(let m=0;m<W.length;m+=1){const k=W[m];if(!k)continue;const b=l(k.id);let $=0;b.winnerSlot===0?$=1:b.winnerSlot===1&&($=2);const L=i=>i==null?7:Math.max(0,Math.min(4,Number(i))),n=L(b.score[0]),c=L(b.score[1]),p=$|n<<2|c<<5;u[m]=p,p!==0&&(g=m)}if(g===-1)return"";const K=u.slice(0,g+1);return we(K)},decodeBracketState:u=>{try{if(!u)return t.value={},!0;const g=xe(u),K={},m=Math.min(g.length,W.length);for(let k=0;k<m;k+=1){const b=g[k]??0;if(b===0)continue;const $=W[k];if(!$)continue;const L=b&3,n=b>>2&7,c=b>>5&7;let p=null;L===1?p=0:L===2&&(p=1);const i=B=>B===7?null:B,I=[i(n),i(c)];(p!==null||I.some(B=>B!=null))&&(K[$.id]={winnerSlot:p,score:I,updatedAt:Date.now()})}return t.value=K,!0}catch(g){return console.warn("Invalid bracket token",g),!1}},isLocked:a}},_e={class:"mb-3 text-[11px] uppercase tracking-[0.2em] text-slate-400"},Me={class:"flex items-center justify-between gap-3"},ve={class:"truncate"},Se={class:"font-semibold text-secondary-200"},Ke={key:0,class:"mt-1 text-[10px] font-semibold uppercase tracking-[0.25em] text-white/70"},Le={class:"space-y-2"},Ce=["disabled","onClick"],Fe={class:"flex h-8 w-8 items-center justify-center rounded-full border border-white/10 bg-slate-900/70"},Te=["src","alt"],$e={class:"flex flex-1 flex-col"},Ae={class:"text-sm font-semibold text-white"},Ne={class:"text-[11px] text-slate-400"},Ie=["max","disabled","value","onInput"],Be={class:"mt-3 flex items-center justify-between text-[11px] uppercase tracking-[0.2em] text-slate-400"},Oe={class:"flex items-center gap-2"},Re={class:"text-white/70"},Ue={class:"text-secondary-200"},Ee=["disabled"],We=G({__name:"BracketNode",props:{match:{},variant:{},isLocked:{type:Boolean}},setup(t){const a=t,{setMatchResult:l,clearMatchResult:C}=Y(),{t:f}=V(),w=N(()=>({name:f("ui.node.toBeDecided"),region:f("ui.status.pending")})),x=Object.fromEntries(Q.map(n=>[n.id,n])),F=n=>{if(n.type==="team"){const i=x[n.teamId];return{name:i?.name??w.value.name,region:i?.region??w.value.region}}const c=n.type==="winner";return{name:`${f(c?"ui.node.winnerPrefix":"ui.node.loserPrefix")} ${n.matchId}`,region:f("ui.status.pending")}},h=N(()=>a.match.slots.map(n=>F(n))),T=N(()=>a.match.participants.map((n,c)=>n?{name:n.name,region:n.region}:h.value[c]??w.value)),y=n=>T.value[n]??w.value,u=N(()=>a.variant==="final"?"border-secondary/60 bg-secondary/15 shadow-[0_0_35px_rgba(250,204,21,0.2)]":"border-white/15 bg-slate-900/70"),g=N(()=>["rounded-2xl p-4 shadow-glow backdrop-blur",u.value]),K=N(()=>a.match.participants.every(Boolean)),m=(n,c)=>{const p=a.match.result.winnerSlot===n,i=!!c&&K.value&&!a.isLocked,I=a.isLocked&&!!c&&K.value;let B="cursor-not-allowed opacity-40";return i?B="cursor-pointer hover:border-primary/70 hover:bg-primary/5":I&&(B="cursor-default"),[B,p?"border-primary/70 bg-primary/5":"border-white/20"]},k=n=>a.match.result.score[n]??"",b=(n,c)=>{if(a.isLocked)return;const p=c===""?null:Math.max(0,Math.min(a.match.targetScore,Number(c))),i=[...a.match.result.score];if(i[n]=p,p!==null&&p===a.match.targetScore){const I=n===0?1:0;i[I]!==null&&Number(i[I])>=a.match.targetScore&&(i[I]=Math.max(a.match.targetScore-1,0)),l(a.match.id,{winnerSlot:n,score:i})}else l(a.match.id,{score:i})},$=n=>{if(a.isLocked||!a.match.participants[n]||!K.value)return;const p=n===0?1:0,i=[...a.match.result.score];i[n]=a.match.targetScore,i[p]=0,l(a.match.id,{winnerSlot:n,score:i})},L=()=>{a.isLocked||C(a.match.id)};return(n,c)=>(r(),d("div",{class:j(g.value)},[e("header",_e,[e("div",Me,[e("span",ve,s(o(f)(t.match.roundLabelKey)),1),e("span",Se,s(t.match.matchNumber?`${t.match.matchNumber} | ${t.match.bestOf}`:t.match.bestOf),1)]),t.match.scheduleLabelKey?(r(),d("p",Ke,s(o(f)(t.match.scheduleLabelKey)),1)):R("",!0)]),e("div",Le,[(r(!0),d(O,null,E(t.match.participants,(p,i)=>(r(),d("button",{key:i,type:"button",disabled:t.isLocked||!p||!K.value,class:j(["flex w-full items-center gap-2 rounded-xl border border-white/15 bg-white/0 px-3 py-2 text-left transition",...m(i,p),t.isLocked&&p&&K.value?"disabled:opacity-100 disabled:cursor-default":"disabled:cursor-not-allowed disabled:opacity-40"]),onClick:()=>$(i)},[e("div",Fe,[p?.logo?(r(),d("img",{key:0,src:p.logo,alt:o(f)("ui.team.logoAlt",{team:p?.shortName??o(f)("ui.team.generic")}),class:"h-6 w-6 object-contain",loading:"lazy"},null,8,Te)):(r(),d("div",{key:1,class:"h-2 w-2 rounded-full",style:re({backgroundColor:p?.accent??"#4b5563"})},null,4))]),e("div",$e,[e("span",Ae,s(y(i).name),1),e("span",Ne,s(y(i).region),1)]),e("input",{type:"number",min:"0",max:t.match.targetScore,step:"1",disabled:!p||t.isLocked,value:k(i),class:j(["h-10 w-16 rounded-lg border border-white/15 bg-slate-950/60 text-center text-base font-semibold text-white focus:border-primary focus:outline-none",t.isLocked&&p?"disabled:opacity-100 disabled:cursor-default":"disabled:opacity-40 disabled:cursor-not-allowed"]),onInput:I=>b(i,I.target.value),onClick:c[0]||(c[0]=te(()=>{},["stop"])),onMousedown:c[1]||(c[1]=te(()=>{},["stop"]))},null,42,Ie)],10,Ce))),128))]),e("footer",Be,[e("div",Oe,[e("span",Re,s(o(f)("ui.node.winnerLabel")),1),e("span",Ue,s(t.match.winner?.name??"â€”"),1)]),t.match.result.winnerSlot!==null||t.match.result.score.some(p=>p!==null)?(r(),d("button",{key:0,type:"button",disabled:t.isLocked,class:j(["text-[10px] font-semibold tracking-[0.3em]",t.isLocked?"text-slate-400 cursor-default":"text-slate-500 hover:text-white"]),onClick:L},s(o(f)("ui.actions.reset")),11,Ee)):R("",!0)])],2))}}),H=Object.assign(We,{__name:"BracketNode"}),Pe={class:"bracket-tree space-y-16"},je={class:"bracket-branch space-y-4"},ze={class:"bracket-branch-title"},De={class:"bracket-columns"},Ge={class:"bracket-column"},qe={class:"bracket-column-title"},Ve={class:"bracket-column-body"},He={key:0,class:"bracket-column-connector"},Je={class:"bracket-branch space-y-4"},Qe={class:"bracket-branch-title"},Ye={class:"bracket-columns"},Ze={class:"bracket-column"},Xe={class:"bracket-column-title"},et={class:"bracket-column-body"},tt={key:0,class:"bracket-column-connector"},at={class:"bracket-branch space-y-4"},ot={class:"bracket-branch-title"},st={key:0,class:"bracket-finals"},nt={class:"bracket-finals-node"},rt={class:"bracket-finals-label"},lt={key:0,class:"bracket-finals-connector"},ct=G({__name:"BracketTree",props:{upperColumns:{},lowerColumns:{},finals:{},isLocked:{type:Boolean}},setup(t){const a=t,{t:l}=V(),C=N(()=>[{labelKey:"bracket.rounds.upperFinal",match:a.finals.upperFinal},{labelKey:"bracket.rounds.lowerFinal",match:a.finals.lowerFinal},{labelKey:"bracket.rounds.grandFinal",match:a.finals.grandFinal}].filter(f=>!!f.match));return(f,w)=>(r(),d("div",Pe,[e("section",je,[e("div",ze,[e("h2",null,s(o(l)("bracket.sections.upper")),1),w[0]||(w[0]=e("div",{class:"bracket-branch-line"},null,-1))]),e("div",De,[(r(!0),d(O,null,E(t.upperColumns,(x,F)=>(r(),d(O,{key:x.titleKey},[e("div",Ge,[e("p",qe,s(o(l)(x.titleKey)),1),e("div",Ve,[(r(!0),d(O,null,E(x.matches,h=>(r(),ae(H,{key:h.id,match:h,"is-locked":t.isLocked},null,8,["match","is-locked"]))),128))])]),F<t.upperColumns.length-1?(r(),d("div",He)):R("",!0)],64))),128))])]),e("section",Je,[e("div",Qe,[e("h2",null,s(o(l)("bracket.sections.lower")),1),w[1]||(w[1]=e("div",{class:"bracket-branch-line"},null,-1))]),e("div",Ye,[(r(!0),d(O,null,E(t.lowerColumns,(x,F)=>(r(),d(O,{key:x.titleKey},[e("div",Ze,[e("p",Xe,s(o(l)(x.titleKey)),1),e("div",et,[(r(!0),d(O,null,E(x.matches,h=>(r(),ae(H,{key:h.id,match:h,"is-locked":t.isLocked},null,8,["match","is-locked"]))),128))])]),F<t.lowerColumns.length-1?(r(),d("div",tt)):R("",!0)],64))),128))])]),e("section",at,[e("div",ot,[e("h2",null,s(o(l)("bracket.sections.finals")),1),w[2]||(w[2]=e("div",{class:"bracket-branch-line"},null,-1))]),C.value.length?(r(),d("div",st,[(r(!0),d(O,null,E(C.value,(x,F)=>(r(),d(O,{key:x.label},[e("div",nt,[e("p",rt,s(o(l)(x.labelKey)),1),D(H,{match:x.match,variant:"final","is-locked":t.isLocked},null,8,["match","is-locked"])]),F<C.value.length-1?(r(),d("div",lt)):R("",!0)],64))),128))])):R("",!0)])]))}}),it=Object.assign(ct,{__name:"BracketTree"}),dt={key:0,class:"overflow-hidden will-change-transform"},ut=G({__name:"Collapsible",props:{defaultOpen:{type:Boolean}},setup(t){const l=P(t.defaultOpen??!0),C=()=>{l.value=!l.value};return(f,w)=>(r(),d("div",null,[oe(f.$slots,"trigger",{isOpen:l.value,toggle:C}),D(de,{"enter-active-class":"transition-[max-height,opacity,transform] duration-600 ease-[cubic-bezier(0.34,1.56,0.64,1)]","enter-from-class":"max-h-0 opacity-0 -translate-y-1 rotate-x-6","enter-to-class":"max-h-[500px] opacity-100 translate-y-0 rotate-x-0","leave-active-class":"transition-[max-height,opacity,transform] duration-450 ease-[cubic-bezier(0.34,1.56,0.64,1)]","leave-from-class":"max-h-[500px] opacity-100 translate-y-0 rotate-x-0","leave-to-class":"max-h-0 opacity-0 -translate-y-1 rotate-x-3"},{default:J(()=>[l.value?(r(),d("div",dt,[oe(f.$slots,"content")])):R("",!0)]),_:3})]))}}),mt=Object.assign(ut,{__name:"Collapsible"}),pt={"South Korea":"KR",China:"CN","United States":"US","Saudi Arabia":"SA",Japan:"JP",France:"FR",Sweden:"SE",Australia:"AU",Austria:"AT",Denmark:"DK",Estonia:"EE",Turkey:"TR",Ukraine:"UA","United Kingdom":"GB",Wales:"GB"};function ht(t){return!t?.length||t.length!==2?"":`https://flagcdn.com/w20/${t.toUpperCase().toLowerCase()}.png`}function bt(t){const a=pt[t];return a?ht(a):""}const yt={class:"space-y-4"},gt=["onClick"],ft={class:"mt-4 grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},kt={class:"mb-3 flex items-center gap-3"},wt={class:"flex h-12 w-12 items-center justify-center rounded-xl border border-white/10 bg-slate-950/70"},xt=["src","alt"],_t={class:"flex-1 min-w-0"},Mt={class:"text-sm font-semibold text-white truncate"},vt={class:"text-xs text-slate-400"},St={class:"mb-3 text-xs text-slate-500"},Kt={class:"border-t border-white/10 pt-3"},Lt={class:"mb-2 text-[10px] font-semibold uppercase tracking-[0.2em] text-slate-500"},Ct={class:"flex flex-wrap gap-2"},Ft=["src","alt"],Tt=["src","alt"],$t=G({__name:"TeamsList",setup(t){const{teams:a}=Y(),{t:l}=V(),C={tank:"roles/16px-Tank_Header.png",damage:"roles/16px-Offense_Header.png",support:"roles/16px-Support_Header.png"},f=N(()=>({tank:l("teams.roles.tank"),damage:l("teams.roles.damage"),support:l("teams.roles.support")})),w=x=>bt(x);return(x,F)=>(r(),d("section",yt,[D(mt,{"default-open":!1},{trigger:J(({isOpen:h,toggle:T})=>[e("button",{class:"flex w-full items-center justify-between rounded-2xl border border-white/15 bg-white/5 px-4 py-3 text-left text-xl font-semibold uppercase tracking-[0.3em] text-white/80 transition hover:bg-white/10",type:"button",onClick:T},[e("span",null,s(o(l)("teams.participating")),1),(r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",stroke:"currentColor",fill:"none",class:j(["h-5 w-5",{"rotate-180":h}]),style:{transition:"transform 600ms cubic-bezier(0.19, 1, 0.22, 1)"}},[...F[0]||(F[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],8,gt)]),content:J(()=>[e("div",ft,[(r(!0),d(O,null,E(o(a),h=>(r(),d("div",{key:h.id,class:"group rounded-xl border border-white/15 bg-slate-900/70 p-4 transition hover:border-primary/50 hover:bg-slate-900/90"},[e("div",kt,[e("div",wt,[h.logo?(r(),d("img",{key:0,src:h.logo,alt:`${h.shortName} logo`,class:"h-8 w-8 object-contain",loading:"lazy"},null,8,xt)):(r(),d("div",{key:1,class:"h-4 w-4 rounded-full",style:re({backgroundColor:h.accent})},null,4))]),e("div",_t,[e("h3",Mt,s(h.name),1),e("p",vt,s(h.placement),1)])]),e("p",St,s(h.region),1),e("div",Kt,[e("p",Lt,s(o(l)("teams.rosterHeading")),1),e("div",Ct,[(r(!0),d(O,null,E(h.roster,T=>(r(),d("span",{key:T.name,class:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-slate-200"},[e("img",{class:"h-4 w-4 object-contain",src:C[T.role],alt:f.value[T.role],loading:"lazy"},null,8,Ft),w(T.country)?(r(),d("img",{key:0,class:"h-3.5 w-5 rounded-sm border border-white/10 object-cover",src:w(T.country),alt:`${T.country} flag`,loading:"lazy"},null,8,Tt)):R("",!0),z(" "+s(T.name),1)]))),128))])])]))),128))])]),_:1})]))}}),At=Object.assign($t,{__name:"TeamsList"}),Nt={class:"space-y-10"},It={class:"space-y-6"},Bt={class:"grid gap-6 rounded-3xl border border-white/15 bg-white/10 p-6 shadow-inner lg:grid-cols-[2.5fr,1fr]"},Ot={class:"space-y-3"},Rt={class:"text-2xl font-semibold"},Ut={class:"text-sm text-slate-300"},Et={class:"font-semibold text-secondary-200"},Wt={class:"font-semibold text-secondary-200"},Pt={class:"font-semibold text-secondary-200"},jt={class:"text-sm text-slate-300"},zt={class:"flex flex-col gap-4 rounded-2xl border border-white/15 bg-slate-900/60 p-4 text-sm shadow-glow"},Dt={class:"flex items-center justify-between"},Gt={class:"text-slate-400"},qt={class:"font-semibold text-white"},Vt={class:"flex items-center justify-between"},Ht={class:"text-slate-400"},Jt={class:"font-semibold text-white"},Qt=["disabled"],Yt={class:"space-y-2"},Zt={class:"text-xs uppercase tracking-[0.3em] text-slate-500"},Xt={class:"space-y-2"},ea=["placeholder"],ta={class:"flex items-center justify-between rounded-xl border border-white/15 bg-slate-950/60 px-3 py-2"},aa={class:"text-[13px] text-slate-300"},oa=["disabled"],sa={key:0,class:"text-xs text-slate-400"},na={key:1,class:"rounded-xl border border-secondary-200/30 bg-secondary-200/10 px-3 py-2"},ra={class:"mb-2 text-xs text-secondary-200"},la={class:"flex gap-2"},ca=["value"],ia={key:0,class:"text-xs text-secondary-200"},da={class:"rounded-3xl border border-white/15 bg-white/10 p-6 shadow-inner"},ma=G({__name:"index",setup(t){const{matches:a,matchesById:l,results:C,resetBracket:f,encodeBracketState:w,decodeBracketState:x,isLocked:F}=Y(),h=ue(),T=me(),{t:y}=V(),u=_=>_.map(A=>l.value[A]).filter(Boolean),g=N(()=>({upperColumns:[{titleKey:"bracket.rounds.upperRound1",matches:u(["M4","M3","M1","M2"])},{titleKey:"bracket.rounds.upperRound2",matches:u(["M5","M6","M7","M8"])},{titleKey:"bracket.rounds.upperSemifinals",matches:u(["M15","M16"])}],lowerColumns:[{titleKey:"bracket.rounds.lowerRound1",matches:u(["M9","M10","M11","M12"])},{titleKey:"bracket.rounds.lowerRound2",matches:u(["M13","M14"])},{titleKey:"bracket.rounds.lowerRound3",matches:u(["M17","M18"])},{titleKey:"bracket.rounds.lowerSemifinal",matches:u(["M19"])}],finals:{upperFinal:l.value.UBF??null,lowerFinal:l.value.LBF??null,grandFinal:l.value.FINALS??null}})),K=N(()=>a.value.filter(_=>_.result.winnerSlot!==null).length),m=N(()=>{const _=l.value.FINALS;return _?.result.winnerSlot!==null&&_?.result.winnerSlot!==void 0}),k=P(""),b=P(""),$=P(!1),L=P(""),n=pe(),c=F,p=N(()=>{const _=globalThis.location?.origin??"",A=n.app?.baseURL??"/",U=A.endsWith("/")?A:`${A}/`,ie=h.path==="/"?"":h.path.replace(/^\//,""),Z=`${_}${U}${ie}`,q=new URLSearchParams;k.value&&q.set("state",k.value),L.value&&q.set("name",L.value),c.value&&q.set("locked","true");const X=q.toString();return X?`${Z}?${X}`:Z});he(()=>{const _=typeof h.query.state=="string"?h.query.state:"";_&&x(_),k.value=w(),L.value=typeof h.query.name=="string"?h.query.name:"",F.value=h.query.locked==="true",$.value=!0}),be(()=>C.value,()=>{if(!$.value)return;const _=w();_!==k.value&&(k.value=_,i())},{deep:!0});const i=()=>{if(!$.value)return;const _={};for(const[A,U]of Object.entries(h.query))A!=="state"&&A!=="name"&&A!=="locked"&&(typeof U=="string"?_[A]=U:Array.isArray(U)&&U.length>0&&typeof U[0]=="string"&&(_[A]=U[0]));k.value&&(_.state=k.value),L.value&&(_.name=L.value),c.value&&(_.locked="true"),T.replace({query:_})},I=()=>{if(c.value){c.value=!1,i();return}m.value&&(c.value=!0,i())},B=()=>{f()},le=async()=>{if(p.value)try{await navigator.clipboard.writeText(p.value),b.value=y("bracket.share.success")}catch(_){console.error(_),b.value=y("bracket.share.failure")}},ce=P(null);return(_,A)=>(r(),d("div",Nt,[e("div",It,[e("section",Bt,[e("div",Ot,[e("h2",Rt,s(o(y)("bracket.rules.heading")),1),e("p",Ut,[z(s(o(y)("bracket.rules.paragraph1.part1"))+" ",1),e("span",Et,s(o(y)("bracket.rules.firstTo2")),1),z(" "+s(o(y)("bracket.rules.paragraph1.part2"))+" ",1),e("span",Wt,s(o(y)("bracket.rules.firstTo3")),1),z(" "+s(o(y)("bracket.rules.paragraph1.part3"))+" ",1),e("span",Pt,s(o(y)("bracket.rules.firstTo4")),1),z(s(o(y)("bracket.rules.paragraph1.ending")),1)]),e("p",jt,s(o(y)("bracket.rules.paragraph2")),1)]),e("aside",zt,[e("div",Dt,[e("span",Gt,s(o(y)("bracket.stats.totalMatches")),1),e("span",qt,s(o(a).length),1)]),e("div",Vt,[e("span",Ht,s(o(y)("bracket.stats.matchesCompleted")),1),e("span",Jt,s(K.value),1)]),e("button",{type:"button",disabled:o(c),class:"rounded-xl border border-white/15 bg-white/15 px-4 py-2 text-sm font-semibold text-white transition hover:bg-white/25 disabled:opacity-40 disabled:cursor-not-allowed",onClick:B},s(o(y)("bracket.actions.resetAll")),9,Qt),e("div",Yt,[e("label",Zt,s(o(y)("bracket.share.label")),1),e("div",Xt,[ye(e("input",{"onUpdate:modelValue":A[0]||(A[0]=U=>L.value=U),type:"text",placeholder:o(y)("bracket.share.namePlaceholder"),class:"w-full rounded-xl border border-stroke bg-slate-950/60 px-3 py-2 text-[13px] text-white placeholder:text-slate-500 focus:border-primary focus:outline-none",onInput:i},null,40,ea),[[ge,L.value]]),e("div",ta,[e("label",aa,s(o(y)("bracket.share.lockLabel")),1),e("button",{type:"button",disabled:!o(c)&&!m.value,class:j(["flex items-center gap-2 rounded-lg px-3 py-1.5 text-xs font-semibold transition disabled:opacity-40 disabled:cursor-not-allowed",o(c)?"bg-red-500/20 text-red-300 hover:bg-red-500/30":"bg-green-500/20 text-green-300 hover:bg-green-500/30"]),onClick:I},[e("span",null,s(o(c)?o(y)("bracket.share.locked"):o(y)("bracket.share.unlocked")),1)],10,oa)]),!m.value&&!o(c)?(r(),d("p",sa,s(o(y)("bracket.share.incompleteWarning")),1)):R("",!0),m.value&&!o(c)?(r(),d("div",na,[e("p",ra,s(o(y)("bracket.share.completeMessage")),1),e("button",{type:"button",class:"w-full rounded-lg bg-secondary-200/20 px-3 py-1.5 text-xs font-semibold text-secondary-200 transition hover:bg-secondary-200/30",onClick:I},s(o(y)("bracket.share.lockNow")),1)])):R("",!0)]),e("div",la,[e("input",{value:p.value,readonly:"",class:"flex-1 truncate rounded-xl border border-stroke bg-slate-950/60 px-3 py-2 text-[13px] text-white"},null,8,ca),e("button",{type:"button",class:"rounded-xl bg-primary/80 px-4 py-2 text-xs font-semibold uppercase tracking-[0.2em] text-white transition hover:bg-primary",onClick:le},s(o(y)("ui.actions.copy")),1)])]),b.value?(r(),d("p",ia,s(b.value),1)):R("",!0)])]),e("section",da,[D(At)])]),e("div",{ref_key:"bracketRef",ref:ce},[D(it,{"upper-columns":g.value.upperColumns,"lower-columns":g.value.lowerColumns,finals:g.value.finals,"is-locked":o(c)},null,8,["upper-columns","lower-columns","finals","is-locked"])],512)]))}});export{ma as default};
